(t=>{function a(t,e){var n,o=t.find(".premium-wrapper-woo-cta"),r=o.find(".premium-woo-cta-button"),i=o.find(".product-quantity"),d=o.find(".grouped_product_qty"),t=o.find(".quantity-button.minus"),a=o.find(".quantity-button.plus"),s=r.data("redirect-to-cart"),c=o.data("pa-mc-id"),t=(t.on("click",function(){var t=parseInt(i.val());!isNaN(t)&&1<t&&i.val(t-1)}),a.on("click",function(){var t=parseInt(i.val()),a=parseInt(i.attr("max"));isNaN(t)||(!isNaN(a)&&a<=t?i.val(a):i.val(t+1))}),o.find(".quantity-button.g-plus")),a=o.find(".quantity-button.g-minus"),u=(t.each(function(){e(this).on("click",function(){var t=e(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val()),i=parseInt(t.attr("max"));isNaN(a)||(!isNaN(i)&&i<=a?t.val(i):t.val(a+1))})}),a.each(function(){e(this).on("click",function(){var t=e(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val());!isNaN(a)&&1<a&&t.val(a-1)})}),r.find(".premium-woo-btn-text")),l=r.attr("data-wishlist-remove-text"),m=r.attr("data-wishlist-button-text"),p=r.attr("data-compare-remove-text"),_=r.attr("data-compare-button-text"),t=r.attr("data-product-type");"yes"===r.attr("data-icon-visible")&&(n=r.find(".premium-woo-btn-icon"),r.find(".premium-woo-btn-text").text().trim()===l?n.hide():(n.show(),r.remove(".premium-woo-icon-hidden"))),"external"!==t?r.on("click",function(t){t.preventDefault();var a,t=e(this).attr("data-product-id"),i=e(this).siblings(".premium-woo-cta__spinner");switch(wishlist_message=e(this).attr("data-product-added"),quantity=o.find(".product-quantity").val(),attributes={},quantities={},i.addClass("loader-visible").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>'),($messageBox=o.find(".premium-cta-message-box")).remove(),d.each(function(){var t=e(this).attr("name").match(/\d+/)[0];0<(quantity=parseInt(e(this).val(),10))&&!isNaN(quantity)&&(quantities[t]=quantity)}),o.find(".product-attribute").each(function(){var t=e(this).data("attribute_name");(attrValue=e(this).val())&&(attributes[t]=attrValue)}),e(this).attr("data-actions")){case"add_to_wishlist":a="custom_add_to_wishlist";break;case"add_to_compare":a="custom_add_to_compare";break;default:a="custom_add_to_cart"}e.ajax({url:PAWooCTASettings.ajaxurl,dataType:"JSON",type:"POST",data:{action:"handle_pa_woo_cta_actions",ajaxAction:a,product_id:t,quantity:quantity,grouped_product_qty:quantities,attributes:attributes,security:PAWooCTASettings.cta_nonce},success:function(t){t.success?(i.removeClass("loader-visible").find(".premium-loading-feed").remove(),"custom_add_to_wishlist"===a?!0===t.data.in_wishlist?(u.text(l),n.hide(),r.after('<div class="pro-wish">'+wishlist_message+"</div>")):(u.text(m),n.show(),($add_message=r.siblings(".pro-wish")).remove()):"custom_add_to_compare"===a?!0===t.data.in_compare?u.text(p):u.text(_):"yes"===s?window.location.href=t.data.cart_url:(r.siblings(".view-cart-button").remove(),r.after('<a href="'+t.data.cart_url+'" target="_blank" class="view-cart-button" style="margin-left: 10px;">'+PAWooCTASettings.view_cart+"</a>")),c&&(e(c+".elementor-widget-premium-mini-cart").find(".pa-woo-mc__inner-container").trigger("click.paToggleMiniCart"),e(document.body).trigger("wc_fragment_refresh"))):("custom_add_to_cart"===a&&(t=t.data.product_url)&&(window.location.href=t),i.removeClass("loader-visible").find(".premium-loading-feed").remove())}})}):r.on("click",function(t){var a=r.attr("data-external-url");a&&(t.preventDefault(),window.location.href=a)})}t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-woo-cta.default",a)})})(jQuery);
(y=>{function e(e,t){var o,r=elementorFrontend.getCurrentDeviceMode(),n="elementor-hidden-"+r;e.closest("section.elementor-element, .e-con").hasClass(n)||(n=e.find(".premium-vscroll-wrap"),e=e.find(".premium-vscroll-sections-wrap"),o=n.data("settings"),["mobile","mobile_extra","tablet","tablet_extra"].includes(r)&&e.removeAttr("data-animation data-hijacking"),o.deviceType=r,new premiumVerticalScroll(n,o).init())}window.premiumVerticalScroll=function(e,m){var l,u=this,d=y(window),t=elementorFrontend.getCurrentDeviceMode(),p=!["desktop","widescreen","laptop"].includes(t),v=e,f=e.find(".premium-vscroll-sections-wrap").length,i=y("html, body"),h=y(".premium-vscroll-dot-item",v),s=y(".premium-vscroll-nav-item",v),m=y.extend({},{speed:700,offset:0,fullSection:!0},m),g={},a=null,w=!1,C=!0,S=[],c=0;jQuery.extend(jQuery.easing,{easeInOutCirc:function(e,t,o,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+o:r/2*(Math.sqrt(1-(t-=2)*t)+1)+o}}),u.init=function(){(m.fullTouch||!p&&m.fullSection)&&m.fullCheckOverflow&&u.setSectionsOverflow(),u.setSectionsData(),u.vscrollEffects(),h.on("click.premiumVerticalScroll",u.onNavDotChange),s.on("click.premiumVerticalScroll",u.onNavDotChange),h.on("mouseenter.premiumVerticalScroll",u.onNavDotEnter),h.on("mouseleave.premiumVerticalScroll",u.onNavDotLeave),"desktop"===m.deviceType&&d.on("scroll.premiumVerticalScroll",u.onWheel),d.on("resize.premiumVerticalScroll orientationchange.premiumVerticalScroll",u.debounce(50,u.onResize)),y(document).ready(function(){u.setSectionsData(),(m.fullTouch||!p&&m.fullSection)&&u.sectionsOverflowRefresh(),u.checkCurrentActive()}),u.keyboardHandler(),u.scrollHandler(),m.fullSection&&u.fullSectionHandler(),m.animation&&v.find(".premium-vscroll-dots").removeClass("elementor-invisible").addClass("animated "+m.animation+" animated-"+m.duration)},u.checkCurrentActive=function(){var e=Object.keys(g)[0],e=g[e].offset;e>=d.scrollTop()&&e-d.scrollTop()<200&&(a=1,h.removeClass("active"),y(h[0]).addClass("active")),a&&v.find(".premium-vscroll-dots").removeClass("premium-vscroll-dots-hide")},u.setSectionsOverflow=function(){h.each(function(){var e,t=y(this).data("menuanchor"),o=v.find(".premium-vscroll-sections-wrap").data("animation"),r=y("#"+t),o=(o?r.find("> div"):r).outerHeight();o>d.outerHeight()&&50<=o-d.outerHeight()&&(r.find(f?".elementor":".elementor-container").first().wrapInner("<div id='scroller-"+t+"'></div>"),o="mobile"===elementorFrontend.getCurrentDeviceMode()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?d.outerHeight()+100+"px":d.outerHeight(),y("#scroller-"+t).slimScroll({height:o,railVisible:!1,touchScrollStep:60}),e=new IScroll("#scroller-"+t,{mouseWheel:!0,scrollbars:!0,hideScrollbars:!0,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!1}),y("#scroller-"+t).data("iscrollInstance",e),setTimeout(function(){e.refresh()},1500))})},u.sectionsOverflowRefresh=function(){h.each(function(){var e=y(this).data("menuanchor"),e=y("#scroller-"+e).data("iscrollInstance");e&&e.refresh()})},u.setSectionsData=function(){h.each(function(){var e=y(this).data("menuanchor"),t=y("#"+e),o=t.outerHeight();t[0]&&(g[e]={selector:t,offset:Math.round(t.offset().top),height:o})})},u.fullSectionHandler=function(){var e=document.getElementById(v.attr("id"));p&&m.fullTouch?(document.addEventListener("touchstart",u.onTouchStart),document.addEventListener("touchmove",u.onTouchMove,{passive:!1})):f?document.addEventListener?e.addEventListener("wheel",u.onWheel,{passive:!1}):e.attachEvent("onmousewheel",u.onWheel):document.addEventListener?document.addEventListener("wheel",u.onWheel,{passive:!1}):document.attachEvent("onmousewheel",u.onWheel)},u.scrollHandler=function(){var e,t=0;for(e in g){var o=g[e].selector;new IntersectionObserver(function(e,o){e.forEach(function(e){var t;e.isIntersecting&&(t=y(e.target).attr("id"),w||(a=t,h.removeClass("active"),s.removeClass("active"),y("[data-menuanchor="+t+"]",v).addClass("active")),o.unobserve(e.target))})},{rootMargin:0!==t?"0%":"-1% 0px 0px 0px"}).observe(o[0]),t++}},u.keyboardHandler=function(){y(document).keydown(function(e){38==e.keyCode&&u.onKeyUp(e,"up"),40==e.keyCode&&u.onKeyUp(e,"down")})},u.isScrolled=function(e,t){var e=y("#scroller-"+e),o=e.data("iscrollInstance");return!o||("down"===t?0-o.y+e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:"up"===t?0<=o.y&&!e.scrollTop():void 0)},u.getEventsPage=function(e){var t=[];return t.y=(void 0!==e.pageY&&(e.pageY||e.pageX)?e:e.touches[0]).pageY,t.x=(void 0!==e.pageX&&(e.pageY||e.pageX)?e:e.touches[0]).pageX,p&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},u.onTouchStart=function(e){C=!0;e=u.getEventsPage(e);c=e.y},u.onTouchMove=function(e){if(C&&u.preventDefault(e),w)return u.preventDefault(e),!1;var t,o=u.getEventsPage(e),o=(l=o.y,y(e.target)),e=f?".premium-vscroll-temp":".elementor-top-section, .e-con",e=(1<o.parents(e).length?o.parents(e).last():o.closest(e)).attr("id"),r=!1,n=!1,i=d.scrollTop();if((y(".premium-vscroll-tooltip").hide(),u.beforeCheck()&&(e=u.getFirstSection(g)),u.afterCheck()&&(e=u.getLastSection(g)),0<o.closest(".premium_maps_map_height").length)&&o.closest(".premium_maps_map_height").data("settings").scrollwheel)return;0<y(".premium-modal-open").length||0<o.closest(".e-widget-swiper").length||(o=(new Date).getTime(),149<S.length&&S.shift(),S.push(Math.abs(l)),t=o-b,b=o,200<t&&(S=[]),l<c?n="down":c<l&&(n="up"),e&&g.hasOwnProperty(e)?(o=u.checkPrevSection(g,e),t=u.checkNextSection(g,e),"up"===n&&(r=!t&&g[e].offset<i?e:o),"down"===n&&(r=!o&&g[e].offset-m.offset>i+5?e:t),o=u.getAverage(S,10),i=u.getAverage(S,70)<=o,r?(C=!0,v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),u.isScrolled(e,n)&&i&&!w&&u.onAnchorChange(r)):(o<=5&&(C=!1),t=f?v:y("#"+e),"down"===n?600<t.offset().top+t.innerHeight()-y(document).scrollTop()&&v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"===n&&200<t.offset().top-y(document).scrollTop()&&v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"))):C=!1)},u.scrollStop=function(){i.stop(!0)},u.checkNextSection=function(e,t){e=Object.keys(e),t=e.indexOf(t),t=t+=1;return!(t>=e.length)&&e[t]},u.checkPrevSection=function(e,t){var e=Object.keys(e),t=e.indexOf(t),o=--t;return!(t<0)&&e[o]},u.debounce=function(t,o){var r;return function(e){r&&clearTimeout(r),r=setTimeout(function(){o.call(this,e),r=null},t)}},u.visible=function(e,t,o){var r,n,e=e.get(0),i=d.outerHeight(),o=!0!==o||e.offsetWidth*e.offsetHeight;return"function"==typeof e.getBoundingClientRect?(n=0<=(e=e.getBoundingClientRect()).top&&e.top<i,r=0<e.bottom&&e.bottom<=i,n=t?n||r:n&&r,n=e.top<0&&e.bottom>i||n,o&&n):(r=0+i,n=(e=d.position().top)+d.height(),!!o&&(!0===t?e:n)<=r&&0<=(!0===t?n:e))},u.onNavDotEnter=function(){var e=y(this),t=e.data("index");m.tooltips&&(y(".premium-vscroll-tooltip").remove(),y('<div class="premium-vscroll-tooltip"><span>'+m.dotsText[t]+"</span></div>").hide().appendTo(e).fadeIn(200))},u.onNavDotLeave=function(){y(".premium-vscroll-tooltip").fadeOut(200,function(){y(this).remove()})},u.onNavDotChange=function(e){var t=y(this),o=t.index(),r=t.data("menuanchor"),n=null;if(!g.hasOwnProperty(r))return!1;(n=g[r].offset-m.offset)<0&&(n=g[r].offset),w||(w=!0,a=r,s.removeClass("active"),h.removeClass("active"),(t.hasClass("premium-vscroll-nav-item")?y(h[o]):y(s[o])).addClass("active"),t.addClass("active"),i.stop().clearQueue().animate({scrollTop:n},m.speed,"easeInOutCirc",function(){w=!1}))},u.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},u.onAnchorChange=function(e){var t=y("[data-menuanchor="+e+"]",v),o=null;if(!g.hasOwnProperty(e))return!1;(o=g[e].offset-m.offset)<0&&(o=g[e].offset),w||(w=!0,m.addToHistory&&window.history.pushState(null,null,"#"+e),a=e,h.removeClass("active"),s.removeClass("active"),t.addClass("active"),i.animate({scrollTop:o},m.speed,"easeInOutCirc"),setTimeout(function(){w=!1},m.speed<700?700:m.speed))},u.onKeyUp=function(e,t){1===a&&(a=h.eq(0).data("menuanchor"));var t=t||"up",o=y(".premium-vscroll-dot-item[data-menuanchor="+a+"]",v).next(),r=y(".premium-vscroll-dot-item[data-menuanchor="+a+"]",v).prev();if(e.preventDefault(),w)return!1;var e=u.visible(v,!0,!1),n=y(".premium-vscroll-dot-item.active").index(),i=v.find(".premium-vscroll-sections-wrap").data("animation");"up"===t?r[0]&&(r.trigger("click.premiumVerticalScroll"),n===h.length-1&&!e||n===h.length-1&&v.offset().top+v.innerHeight()-y(document).scrollTop()<600?y(".premium-vscroll-dot-item[data-menuanchor="+a+"]",v):(v.find(".premium-vscroll-sections-wrap[data-animation="+i+"] .premium-vscroll-temp:last-of-type>div").removeClass("premium-vscroll-parallax-last"),v.find(".premium-vscroll-sections-wrap[data-animation="+i+"] .premium-vscroll-temp>div").removeClass("premium-vscroll-parallax-position"))):o[0]&&(o.trigger("click.premiumVerticalScroll"),200<v.offset().top-y(document).scrollTop())&&y(".premium-vscroll-dot-item[data-menuanchor="+a+"]",v)},u.getFirstSection=function(e){return Object.keys(e)[0]},u.getLastSection=function(e){return Object.keys(e)[Object.keys(e).length-1]};var b=(new Date).getTime();u.onWheel=function(e){C&&!p&&u.preventDefault(e);var t=y(e.target),o=f?".premium-vscroll-temp":".elementor-top-section, .e-con",o=(1<t.parents(o).length?t.parents(o).last():t.closest(o)).attr("id"),r=u.visible(v,!0,!1),n=!1,i=!1,l=!1,e=(e=(e=e)||window.event).wheelDelta||-e.deltaY||-e.detail,s=Math.max(-1,Math.min(1,e))<0?"down":"up",a=d.scrollTop(),c=y(".premium-vscroll-dot-item.active").index();if(0<t.closest(".premium_maps_map_height").length&&t.closest(".premium_maps_map_height").data("settings").scrollwheel)return;0<y(".premium-modal-open").length||(t=(new Date).getTime(),149<S.length&&S.shift(),S.push(Math.abs(e)),e=t-b,b=t,200<e&&(S=[]),t=y(event.target),e=f?".premium-vscroll-temp":".elementor-top-section, .e-con",t=(1<t.parents(e).length?t.parents(e).last():t.closest(e)).attr("id"),e=f?v:y("#"+t),(t=v.find(".premium-vscroll-sections-wrap").data("animation"))&&(e.offset().top+e.innerHeight()-y(document).scrollTop()+m.offset<d.outerHeight()?(v.find(".premium-vscroll-sections-wrap[data-animation="+t+"] .premium-vscroll-temp:last-of-type > div").addClass("premium-vscroll-parallax-last"),v.find(".premium-vscroll-sections-wrap[data-animation="+t+"] .premium-vscroll-temp>div").addClass("premium-vscroll-parallax-position")):(v.find(".premium-vscroll-sections-wrap[data-animation="+t+"] .premium-vscroll-temp:last-of-type > div").removeClass("premium-vscroll-parallax-last"),v.find(".premium-vscroll-sections-wrap[data-animation="+t+"] .premium-vscroll-temp > div").removeClass("premium-vscroll-parallax-position"))),p&&(y(".premium-vscroll-tooltip").hide(),c!==h.length-1||r?0!==c||r?v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"):200<v.offset().top-y(document).scrollTop()&&v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")),u.beforeCheck()&&(o=u.getFirstSection(g)),(o=u.afterCheck()?u.getLastSection(g):o)&&g.hasOwnProperty(o)&&(i=u.checkPrevSection(g,o),l=u.checkNextSection(g,o),n="up"==s?!l&&g[o].offset<a?o:i:!i&&g[o].offset-m.offset>a+5?o:l,e=u.getAverage(S,10),t=u.getAverage(S,70)<=e,n?(C=!0,(u.isScrolled(o,s)||p)&&(v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),y("#scroller-"+n).data("iscrollInstance"),t)&&!w&&u.onAnchorChange(n)):(e<=5&&(C=!1),c=f?v:y("#"+o),"down"==s?600<c.offset().top+c.innerHeight()-y(document).scrollTop()&&v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"==s&&v.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"))))},u.beforeCheck=function(){var e=d.scrollTop(),t=u.getFirstSection(g),t=g[t].offset,e=e+d.outerHeight(),o=u.visible(v,!0,!1);return!(t<e||!o)},u.afterCheck=function(){var e=d.scrollTop(),t=u.getLastSection(g),t=g[t].offset+g[t].height,o=u.visible(v,!0,!1);return!(e<t||!o)},u.onResize=function(){u.setSectionsData(),u.sectionsOverflowRefresh()},u.getAverage=function(e,t){for(var o=0,r=e.slice(Math.max(e.length-t,1)),n=0;n<r.length;n++)o+=r[n];return Math.ceil(o/t)},u.vscrollEffects=function(){var e,c=v.find(".premium-vscroll-sections-wrap").data("animation");function t(){0<y(".eb-project-overlay").length||(window.requestAnimationFrame?window.requestAnimationFrame(o):o())}function o(){var s=y(window).scrollTop(),a=y(window).height();e.each(function(){var e,t,o,r,n=y(this),i=s-n.offset().top,l=((e,t,o)=>{var r=100,n="0deg",i=1,l=1;return-t<=e&&e<=0?(r=100*-e/t,"rotate"===o?(r=0,n="0deg"):"scaleDown"===o&&(i=l=1)):0<e&&e<=t?"rotate"===o?(i=(1-e/t).toFixed(5),n=100*e/t+"deg",r=0):"scaleDown"===o?(l=(1-.3*e/t).toFixed(5),i=(1-e/t).toFixed(5),r=0):r=50*-e/t:e<-t?(r=100,"scaleDown"===o&&(i=l=1)):"rotate"===o?(r=0,n="90deg"):r="scaleDown"===o?(i=.7,l=0):-50,[r,n,i,l]})(i,a,c);e=n.children("div"),t=l[0],o=l[1],r=l[2],l=l[3],e.css({transform:"translateY("+t+"vh) rotateX("+o+") scale("+l+")",opacity:r}),0<=i&&i<a?n.addClass("visible"):n.removeClass("visible")})}c&&(e=v.find(".premium-vscroll-temp"),t(),y(window).on("scroll",t))}},y(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-vscroll.default",e)})})(jQuery);
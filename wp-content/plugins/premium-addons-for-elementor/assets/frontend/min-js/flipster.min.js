((H,t,O)=>{function R(n,i){var a=null;return function(){var t=this,e=arguments;null===a&&(a=setTimeout(function(){n.apply(t,e),a=null},i))}}r={};var r,q=H(t),B=(t=>{if(r[t]!==O)return r[t];var e,n=document.createElement("div").style,i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" ");for(e in a)if(a[e]in n)return r[t]=a[e];return r[t]=!1})("transform"),i={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},Q={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},U=new RegExp("\\b("+Q.itemCurrent+"|"+Q.itemPast+"|"+Q.itemFuture+")(.*?)(\\s|$)","g"),W=new RegExp("\\s\\s+","g");H.fn.flipster=function(e){var n,Y;return"string"==typeof e?(n=Array.prototype.slice.call(arguments,1),this.each(function(){var t=H(this).data("methods");return t[e]?t[e].apply(this,n):this})):(Y=H.extend({},i,e),this.each(function(){var r,s,n,o,l,c,u,f,e,i,a,p,v,h,t,d,m,g,_,y,b,x,w,C,k=H(this),I=[],P=0,D=!1,A=!1;function L(e){return e=e||"next",H('<button class="'+Q.button+" "+("next"===e?Q.buttonNext:Q.buttonPrev)+'" role="button" />').html((n="next"===(t=e)?Y.buttonNext:Y.buttonPrev,"custom"===Y.buttons?n:'<svg viewBox="0 0 13 20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="title"><title>'+n+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>")).on("click",function(t){T(e),t.preventDefault()});var t,n}function F(){k.css("transition",""),r.css("transition",""),o.css("transition","")}function E(i){var t,e;i&&(k.css("transition","none"),r.css("transition","none"),o.css("transition","none")),s=r.width(),r.height((e=0,o.each(function(){t=H(this).height(),e<t&&(e=t)}),e)),s?(n&&(clearInterval(n),n=!1),o.each(function(t){var e,n=H(this);n.attr("class",function(t,e){return e&&e.replace(U,"").replace(W," ")}),e=n.outerWidth(),0!==Y.spacing&&n.css("margin-right",e*Y.spacing+"px"),n=n.position().left,I[t]=-1*(n+e/2-s/2),t===o.length-1&&(M(),i)&&setTimeout(F,1)})):n=n||setInterval(function(){E(i)},500)}function M(){var e,n,i,t,a=o.length;o.each(function(t){e=H(this),n=" ",i=t===P?(n+=Q.itemCurrent,a+1):t<P?(n+=Q.itemPast+" "+Q.itemPast+"-"+(P-t),a-(P-t)):(n+=Q.itemFuture+" "+Q.itemFuture+"-"+(t-P),a-(t-P)),e.css("z-index",i).attr("class",function(t,e){return e&&e.replace(U,"").replace(W," ")+n})}),0<=P&&(s&&I[P]!==O||E(!0),B?r.css("transform","translateX("+I[P]+"px)"):r.css({left:I[P]+"px"})),Y.nav&&(t=l.data("flip-category"),u.removeClass(Q.navCurrent),f.filter(function(){return H(this).data("index")===P||t&&H(this).data("category")===t}).parent().addClass(Q.navCurrent))}function T(t){var e=P;if(!(o.length<=1))return"prev"===t?0<P?P--:Y.loop&&(P=o.length-1):"next"===t?P<o.length-1?P++:Y.loop&&(P=0):"number"==typeof t?P=t:t!==O&&(P=o.index(t),Y.loop)&&e!=P&&(e==o.length-1&&P!=o.length-2&&(P=0),0==e)&&1!=P&&(P=o.length-1),l=o.eq(P),P!==e&&Y.onItemSwitch&&Y.onItemSwitch.call(k,o[P],o[e]),M(),k}function j(t){return Y.autoplay=t||Y.autoplay,clearInterval(D),D=setInterval(function(){var t=P;T("next"),t!==P||Y.loop||clearInterval(D)},Y.autoplay),k}function N(){return clearInterval(D),D=0,k}function S(t){return N(),Y.autoplay&&t&&(D=-1),k}function z(){E(!0),k.hide().css("visibility","").addClass(Q.active).fadeIn(Y.fadeIn)}function X(){var a;if(r=k.find(Y.itemContainer).addClass(Q.container),!((o=r.find(Y.itemSelector)).length<=1))return o.addClass(Q.item).each(function(){var t=H(this);t.children("."+Q.itemContent).length||t.wrapInner('<div class="'+Q.itemContent+'" />')}),Y.click&&o.on("click.flipster touchend.flipster",function(t){A||(H(this).hasClass(Q.itemCurrent)||t.preventDefault(),T(this))}),Y.buttons&&1<o.length&&(k.find("."+Q.button).remove(),k.append(L("prev"),L("next"))),a={},!Y.nav||o.length<=1||(c&&c.remove(),c=H('<ul class="'+Q.nav+'" role="navigation" />'),f=H(""),o.each(function(t){var e,n=H(this),i=n.data("flip-category"),n=n.data("flip-title")||n.attr("title")||t,n=H('<a href="#" class="'+Q.navLink+'">'+n+"</a>").data("index",t);f=f.add(n),(i?(a[i]||(e=H('<li class="'+Q.navItem+" "+Q.navCategory+'">'),t=H('<a href="#" class="'+Q.navLink+" "+Q.navCategoryLink+'" data-flip-category="'+i+'">'+i+"</a>").data("category",i).data("index",t),a[i]=H('<ul class="'+Q.navChild+'" />'),f=f.add(t),e.append(t,a[i]).appendTo(c)),a[i]):c).append(n),n.wrap('<li class="'+Q.navItem+'">')}),c.on("click","a",function(t){var e=H(this).data("index");0<=e&&(T(e),t.preventDefault())}),"after"===Y.nav?k.append(c):k.prepend(c),u=c.find("."+Q.navItem)),0<=P&&T(P),k}k.data("methods",{jump:T,next:function(){return T("next")},prev:function(){return T("prev")},play:j,stop:N,pause:S,index:X}),k.hasClass(Q.active)||(k.css("visibility","hidden"),X(),o.length<=1?k.css("visibility",""):(m=!!Y.style&&"flipster--"+Y.style.split(" ").join(" flipster--"),k.addClass([Q.main,B?"flipster--transform":" flipster--no-transform",m,Y.click?"flipster--click":""].join(" ")),T(P=Y.start?"center"===Y.start?Math.floor(o.length/2):Y.start:P),(t=k.find("img")).length?(d=0,t.on("load",function(){++d>=t.length&&z()}),setTimeout(z,750)):z(),q.on("resize.flipster",R(E,400)),Y.autoplay&&j(),Y.pauseOnHover&&r.on("mouseenter.flipster",function(){D?S(!0):N()}).on("mouseleave.flipster",function(){-1===D&&j()}),m=k,Y.keyboard&&(m[0].tabIndex=0,m.on("keydown.flipster",R(function(t){var e=t.which;37!==e&&39!==e||(T(37===e?"prev":"next"),t.preventDefault())},250))),m=r,Y.scrollwheel&&(y=!1,w=x=b=0,C=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),m.on("mousewheel.flipster wheel.flipster",function(){y=!0}).on("mousewheel.flipster wheel.flipster",R(function(t){clearTimeout(x),x=setTimeout(function(){w=b=0},300),t=t.originalEvent,w+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(w)<25&&!C||(b++,_!==(g=0<w?"prev":"next")&&(b=0),_=g,(b<6||b%3==0)&&T(g),w=0)},50)),m.on("mousewheel.flipster wheel.flipster",function(t){y&&(t.preventDefault(),y=!1)})),m=r,Y.touch&&m.on({"touchstart.flipster":function(t){t=t.originalEvent,e=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY},"touchmove.flipster":function(t){t=t.originalEvent,a=(t.touches?t.touches[0]:t).clientX,p=(t.touches?t.touches[0]:t).clientY,h=a-e,v=p-i,30<Math.abs(h)&&Math.abs(v)<100&&t.preventDefault()},"touchend.flipster touchcancel.flipster ":function(){h=a-e,v=p-i,30<Math.abs(h)&&Math.abs(v)<100&&T(0<h?"prev":"next")}})))}))}})(jQuery,window);